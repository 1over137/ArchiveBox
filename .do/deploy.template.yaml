spec:
  name: archivebox
  services:
  - name: archivebox
    git:
      branch: dev
      repo_clone_url: https://github.com/ArchiveBox/ArchiveBox.git
    dockerfile_path: Dockerfile
    source_dir: ./
    instance_count: 1
    routes:
    - path: /
    http_port: 8000
    health_check:
      http_path: /admin/login/
    envs:
    - key: ALLOWED_HOSTS
      scope: RUN_AND_BUILD_TIME
      value: '*'
    - key: SAVE_ARCHIVE_DOT_ORG
      scope: RUN_AND_BUILD_TIME
      value: "True"
    - key: SAVE_MEDIA
      scope: RUN_AND_BUILD_TIME
      value: "True"
    - key: TIMEOUT
      scope: RUN_AND_BUILD_TIME
      value: "120"
    - key: MEDIA_TIMEOUT
      scope: RUN_AND_BUILD_TIME
      value: "3600"
    - key: PUBLIC_INDEX
      scope: RUN_AND_BUILD_TIME
      value: "True"
    - key: PUBLIC_SNAPSHOTS
      scope: RUN_AND_BUILD_TIME
      value: "True"
    - key: PUBLIC_ADD_VIEW
      scope: RUN_AND_BUILD_TIME
      value: "False"
    - key: CHECK_SSL_VALIDITY
      scope: RUN_AND_BUILD_TIME
      value: "False"
    - key: MEDIA_MAX_SIZE
      scope: RUN_AND_BUILD_TIME
      value: 750m
